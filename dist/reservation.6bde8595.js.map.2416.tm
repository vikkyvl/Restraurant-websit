{"mappings":"AAAA,MAAM,YAAY,SAAS,cAAc,CAAC;AAC1C,MAAM,QAAQ,IAAI;AAClB,MAAM,gBAAgB,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,oBAAoB;AAC7E,UAAU,GAAG,GAAG;AAEhB,4EAA4E;AAC5E,MAAM,aAAa,SAAS,cAAc,CAAC;AAC3C,MAAM,iBAAiB,EAAE;AAEzB,sBAAsB;AACtB,IAAK,IAAI,OAAO,IAAI,QAAQ,IAAI,OAC9B,IAAK,IAAI,SAAS,GAAG,SAAS,IAAI,UAAU,GAAI;IAC9C,MAAM,aAAa,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,OAAO,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC;IAC9F,eAAe,IAAI,CAAC;AACtB;AAGF,6BAA6B;AAC7B,WAAW,SAAS,GAAG,IAAI,8BAA8B;AACzD,MAAM,oBAAoB,SAAS,aAAa,CAAC;AACjD,kBAAkB,KAAK,GAAG;AAC1B,kBAAkB,WAAW,GAAG;AAChC,kBAAkB,QAAQ,GAAG;AAC7B,kBAAkB,QAAQ,GAAG;AAC7B,WAAW,WAAW,CAAC,oBAAoB,kBAAkB;AAE7D,eAAe,OAAO,CAAC,CAAA;IACrB,MAAM,SAAS,SAAS,aAAa,CAAC;IACtC,OAAO,KAAK,GAAG;IACf,OAAO,WAAW,GAAG;IACrB,WAAW,WAAW,CAAC;AACzB;AAEA,iCAAiC;AACjC,SAAS,aAAa,CAAC,QAAQ,gBAAgB,CAAC,UAAU,OAAO;IAC/D,MAAM,cAAc,IAAI,sCAAsC;IAE9D,uBAAuB;IACvB,MAAM,OAAO,SAAS,cAAc,CAAC,QAAQ,KAAK;IAClD,MAAM,OAAO,SAAS,cAAc,CAAC,QAAQ,KAAK;IAClD,MAAM,SAAS,SAAS,SAAS,cAAc,CAAC,UAAU,KAAK;IAC/D,MAAM,OAAO,SAAS,cAAc,CAAC,QAAQ,KAAK;IAClD,MAAM,QAAQ,SAAS,cAAc,CAAC,SAAS,KAAK;IAEpD,yCAAyC;IACzC,IAAI;QACF,MAAM,WAAW,MAAM,MAAM;QAC7B,MAAM,YAAY,MAAM,SAAS,IAAI;QAErC,MAAM,iBAAiB,UAAU,IAAI,CAAC,CAAA,OACpC,KAAK,IAAI,KAAK,QACd,KAAK,SAAS,CAAC,QAAQ,CAAC,SACxB,KAAK,KAAK,IAAI;QAGhB,IAAI,gBAAgB;YAClB,mCAAmC;YACnC,MAAM,cAAc;gBAClB,OAAO,eAAe,KAAK;gBAC3B;gBACA;gBACA;gBACA;gBACA;YACF;YAEA,MAAM,MAAM,sCAAsC;gBAChD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,CAAC,gCAAgC,EAAE,eAAe,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC7E,OACE,oBAAoB;QACpB,MAAM;IAEV,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;QACvD,MAAM;IACR;AACF","sources":["src/js/reservation.js"],"sourcesContent":["const dateInput = document.getElementById('date');\r\nconst today = new Date();\r\nconst formattedDate = today.toISOString().split('T')[0]; // Format YYYY-MM-DD\r\ndateInput.min = formattedDate;\r\n\r\n// Update available time slots from 10:00 to 23:00 with a 30-minute interval\r\nconst timeSelect = document.getElementById('time');\r\nconst availableTimes = [];\r\n\r\n// Generate time slots\r\nfor (let hour = 10; hour <= 23; hour++) {\r\n  for (let minute = 0; minute < 60; minute += 30) {\r\n    const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\r\n    availableTimes.push(timeString);\r\n  }\r\n}\r\n\r\n// Fill the time select field\r\ntimeSelect.innerHTML = ''; // Clear before adding options\r\nconst placeholderOption = document.createElement('option');\r\nplaceholderOption.value = '';\r\nplaceholderOption.textContent = 'Select Time';\r\nplaceholderOption.disabled = true;\r\nplaceholderOption.selected = true;\r\ntimeSelect.appendChild(placeholderOption); // Add placeholder\r\n\r\navailableTimes.forEach(time => {\r\n  const option = document.createElement('option');\r\n  option.value = time;\r\n  option.textContent = time;\r\n  timeSelect.appendChild(option);\r\n});\r\n\r\n// Додайте слухач подій для форми\r\ndocument.querySelector('form').addEventListener('submit', async (event) => {\r\n  event.preventDefault(); // Зупинити стандартну відправку форми\r\n\r\n  // Зібрати дані з форми\r\n  const date = document.getElementById('date').value;\r\n  const time = document.getElementById('time').value;\r\n  const people = parseInt(document.getElementById('people').value);\r\n  const name = document.getElementById('name').value;\r\n  const phone = document.getElementById('phone').value;\r\n\r\n  // Перевірити доступність столу через API\r\n  try {\r\n    const response = await fetch('http://localhost:3000/availableTimeSlots');\r\n    const timeSlots = await response.json();\r\n\r\n    const availableTable = timeSlots.find(slot =>\r\n      slot.date === date &&\r\n      slot.timeslots.includes(time) &&\r\n      slot.table >= people\r\n    );\r\n\r\n    if (availableTable) {\r\n      // Якщо стіл доступний, забронювати\r\n      const reservation = {\r\n        table: availableTable.table,\r\n        date,\r\n        time,\r\n        people,\r\n        name,\r\n        phone\r\n      };\r\n\r\n      await fetch('http://localhost:3000/reservations', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(reservation)\r\n      });\r\n\r\n      alert(`Reservation confirmed for table ${availableTable.table} at ${time}.`);\r\n    } else {\r\n      // Якщо столів немає\r\n      alert('No available tables for the selected time and date.');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error checking or making reservation:', error);\r\n    alert('An error occurred while processing your reservation.');\r\n  }\r\n});\r\n"],"names":[],"version":3,"file":"reservation.6bde8595.js.map","sourceRoot":"/__parcel_source_root/"}